@model DigiStoreWithMVC.Models.Item
<div class="card col s12 m6 l6">
    <div class="card-image waves-effect waves-block waves-light" align="center">
        @if (Model.ImagePath != null)
        {
            if (!Model.ImagePath.IsEmpty())
            {
                <img class="activator" src="@Model.ImagePath" style="width: auto; height:125px;">
            }
            else
            {
                <img class="activator" src="~/img/help.png" style="width: 125px">
            }
        }
        else
        {
            <img class="activator" src="~/img/help.png" style="width: 125px">
        }
    </div>
    <div class="card-content">
        <span class="card-title activator grey-text text-darken-4">@Model.Name - $@Model.Price<i class="material-icons right">more_vert</i></span>
        <div class="card-action">
            @{
                if (Model.Quantity > 0)
                {
                    <select class="col s4">
                        @for (int i = 1; i <= Model.Quantity; i++)
                        {
                            <option value="@i">@i</option>
                        }
                    </select>
                    if (User.Identity.IsAuthenticated)
                    {
                        <div align="right">
                            @*<a class="waves-effect waves-light btn blue darken-3 yellow-text accent-3"><i class="material-icons left">add_shopping_cart</i>Add to Cart</a>*@
                            @{string addToCart = "<i class='material-icons left'>add_shopping_cart</i>Add to Cart";
                            }
                            @Html.ActionLink(addToCart, "AddToCart", new { controller="Store", action="AddToCart" }, new { @class="waves-effect waves-light btn blue darken-3 yellow-text accent-3"} )
                        </div>
                    }
                }
                else
                {
                    <p>SOLD OUT!</p>
                }
            }
        </div>
    </div>
    <div class="card-reveal">
        <span class="card-title grey-text text-darken-4">@Model.Name<i class="material-icons right">close</i></span>
        <p><b>Description:</b> @Model.Description</p>
        <p><b>Price:</b> $@Model.Price</p>
        <p><b>Weight (kg):</b> @Model.Weight</p>
        <p><b>Quantity Remaining:</b> @Model.Quantity</p>
    </div>
</div>